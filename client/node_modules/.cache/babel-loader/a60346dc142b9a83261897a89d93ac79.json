{"ast":null,"code":"import _asyncToGenerator from\"/Users/sabinthapa/Desktop/project-portfolio-mern-application/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/sabinthapa/Desktop/project-portfolio-mern-application/client/node_modules/@babel/runtime/regenerator/index.js\";import*as api from'../api';export var getPosts=function getPosts(page){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var _yield$api$fetchPosts,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:'START_LOADING'});_context.next=4;return api.fetchPosts(page);case 4:_yield$api$fetchPosts=_context.sent;data=_yield$api$fetchPosts.data;dispatch({type:'FETCH_ALL',payload:data});dispatch({type:'END_LOADING'});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getPost=function getPost(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var _yield$api$fetchPost,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:'START_LOADING'});_context2.next=4;return api.fetchPost(id);case 4:_yield$api$fetchPost=_context2.sent;data=_yield$api$fetchPost.data;dispatch({type:'FETCH_POST',payload:data});dispatch({type:'END_LOADING'});_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0.message);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var getPostsBySearch=function getPostsBySearch(searchQuery){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var _yield$api$fetchPosts2,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;dispatch({type:'START_LOADING'});_context3.next=4;return api.fetchPostsBySearch(searchQuery);case 4:_yield$api$fetchPosts2=_context3.sent;data=_yield$api$fetchPosts2.data.data;dispatch({type:'FETCH_BY_SEARCH',payload:data});dispatch({type:'END_LOADING'});_context3.next=13;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,10]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var createPost=function createPost(post){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var _yield$api$createPost,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;dispatch({type:'START_LOADING'});_context4.next=4;return api.createPost(post);case 4:_yield$api$createPost=_context4.sent;data=_yield$api$createPost.data;dispatch({type:'CREATE',payload:data});_context4.next=12;break;case 9:_context4.prev=9;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 12:case\"end\":return _context4.stop();}}},_callee4,null,[[0,9]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var updatePost=function updatePost(id,post){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var _yield$api$updatePost,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return api.updatePost(id,post);case 3:_yield$api$updatePost=_context5.sent;data=_yield$api$updatePost.data;dispatch({type:'UPDATE',payload:data});_context5.next=11;break;case 8:_context5.prev=8;_context5.t0=_context5[\"catch\"](0);console.log(_context5.t0);case 11:case\"end\":return _context5.stop();}}},_callee5,null,[[0,8]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};export var deletePost=function deletePost(id){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return api.deletePost(id);case 3:dispatch({type:'DELETE',payload:id});_context6.next=9;break;case 6:_context6.prev=6;_context6.t0=_context6[\"catch\"](0);console.log(_context6.t0);case 9:case\"end\":return _context6.stop();}}},_callee6,null,[[0,6]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};export var likePost=function likePost(id){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){var _yield$api$likePost,data;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return api.likePost(id);case 3:_yield$api$likePost=_context7.sent;data=_yield$api$likePost.data;dispatch({type:'LIKE',payload:data});_context7.next=11;break;case 8:_context7.prev=8;_context7.t0=_context7[\"catch\"](0);console.log(_context7.t0);case 11:case\"end\":return _context7.stop();}}},_callee7,null,[[0,8]]);}));return function(_x7){return _ref7.apply(this,arguments);};}();};export var commentPost=function commentPost(value,id){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){var _yield$api$comment,data;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return api.comment(value,id);case 3:_yield$api$comment=_context8.sent;data=_yield$api$comment.data;dispatch({type:'COMMENT',payload:data});return _context8.abrupt(\"return\",data.comments);case 9:_context8.prev=9;_context8.t0=_context8[\"catch\"](0);console.log(_context8.t0);case 12:case\"end\":return _context8.stop();}}},_callee8,null,[[0,9]]);}));return function(_x8){return _ref8.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/sabinthapa/Desktop/project-portfolio-mern-application/client/src/actions/posts.js"],"names":["api","getPosts","page","dispatch","type","fetchPosts","data","payload","console","log","message","getPost","id","fetchPost","getPostsBySearch","searchQuery","fetchPostsBySearch","createPost","post","updatePost","deletePost","likePost","commentPost","value","comment","comments"],"mappings":"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","sourcesContent":["import * as api from '../api';\n\nexport const getPosts = (page) => async(dispatch) =>{\n    try {\n        dispatch({\n            type: 'START_LOADING'\n        });\n      const {data} = await api.fetchPosts(page);  \n      dispatch({\n          type: 'FETCH_ALL',\n          payload: data\n      });\n      dispatch({\n        type: 'END_LOADING'\n      });\n    } catch (error) {\n        console.log(error.message);\n    }\n}\n\nexport const getPost = (id) => async(dispatch) =>{\n    try {\n        dispatch({\n            type: 'START_LOADING'\n        });\n      const {data} = await api.fetchPost(id);  \n      dispatch({\n          type: 'FETCH_POST',\n          payload: data\n      });\n      dispatch({\n        type: 'END_LOADING'\n      });\n    } catch (error) {\n        console.log(error.message);\n    }\n}\n\nexport const getPostsBySearch = (searchQuery) => async(dispatch) =>{\n    try {\n        dispatch({\n            type: 'START_LOADING'\n        });\n        const {data : {data}} = await api.fetchPostsBySearch(searchQuery);\n        dispatch({\n            type: 'FETCH_BY_SEARCH',\n            payload: data\n        });\n        dispatch({\n            type: 'END_LOADING'\n          });\n    } catch (error) {\n        console.log(error);\n    }\n}\nexport const createPost = (post) => async(dispatch)=>{\n    try {\n        dispatch({\n            type: 'START_LOADING'\n        });\n        const {data} = await api.createPost(post);\n        dispatch({\n            type: 'CREATE',\n            payload: data\n        });\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const updatePost= (id,post) => async(dispatch) => {\n    try {\n        const {data} =await api.updatePost(id,post);\n        dispatch({\n            type: 'UPDATE',\n            payload: data\n        });\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const deletePost = (id) => async(dispatch) => {\n    try {\n        await api.deletePost(id);\n\n        dispatch({\n            type: 'DELETE',\n            payload: id\n        });\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const likePost = (id) => async(dispatch) =>{\n    try {\n        const {data} = await api.likePost(id);\n        dispatch({\n            type: 'LIKE',\n            payload: data\n        });\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const commentPost = (value, id) => async(dispatch) =>{\n    try {\n       const {data} = await api.comment(value,id);\n       dispatch ({\n           type: 'COMMENT',\n           payload: data\n       });\n       return data.comments;\n    } catch (error) {\n        console.log(error);\n    }\n}"]},"metadata":{},"sourceType":"module"}
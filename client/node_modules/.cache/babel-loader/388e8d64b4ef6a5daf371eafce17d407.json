{"ast":null,"code":"import _slicedToArray from\"/Users/sabinthapa/Desktop/project-portfolio-mern-application/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{AppBar,Avatar,Toolbar,Typography,Button}from\"@material-ui/core\";import{Link,useNavigate,useLocation}from\"react-router-dom\";import{useDispatch}from\"react-redux\";import projects from'../../images/projects.png';import useStyles from'./styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navbar=function Navbar(){var classes=useStyles();var _useState=useState(JSON.parse(localStorage.getItem('profile'))),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var dispatch=useDispatch();var navigate=useNavigate();var location=useLocation();var logout=function logout(){dispatch({type:'LOGOUT'});navigate('/auth');setUser(null);};useEffect(function(){var token=user===null||user===void 0?void 0:user.token;setUser(JSON.parse(localStorage.getItem('profile')));},[location]);return/*#__PURE__*/_jsxs(AppBar,{className:classes.appBar,position:\"static\",color:\"inherit\",children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.brandContainer,children:[/*#__PURE__*/_jsx(Typography,{className:classes.heading,variant:\"h2\",align:\"center\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",style:{color:'inherit',textDecoration:'inherit'},children:\"PROJECTS\"})}),/*#__PURE__*/_jsx(\"img\",{className:classes.image,src:projects,alt:\"projects\",height:\"60\"})]}),/*#__PURE__*/_jsx(Toolbar,{className:classes.toolbar,children:user?/*#__PURE__*/_jsxs(\"div\",{className:classes.profile,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.purple,alt:user.result.name,src:user.result.imageUrl,children:user.result.name.charAt(0)}),/*#__PURE__*/_jsx(Typography,{className:classes.userName,variant:\"h6\",children:user.result.name}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:classes.logout,color:\"secondary\",onClick:logout,children:\"Logout\"})]}):/*#__PURE__*/_jsx(Link,{to:\"/auth\",style:{color:'inherit',textDecoration:'inherit'},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",children:\"Sign in\"})})})]});};export default Navbar;","map":{"version":3,"sources":["/Users/sabinthapa/Desktop/project-portfolio-mern-application/client/src/components/Navbar/Navbar.js"],"names":["React","useEffect","useState","AppBar","Avatar","Toolbar","Typography","Button","Link","useNavigate","useLocation","useDispatch","projects","useStyles","Navbar","classes","JSON","parse","localStorage","getItem","user","setUser","dispatch","navigate","location","logout","type","token","appBar","brandContainer","heading","color","textDecoration","image","toolbar","profile","purple","result","name","imageUrl","charAt","userName"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport { AppBar, Avatar, Toolbar, Typography, Button } from \"@material-ui/core\";\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\n \nimport projects from '../../images/projects.png';\nimport useStyles from './styles';\n \n \nconst Navbar = () => {\n   const classes = useStyles();\n   const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\n   const dispatch = useDispatch();\n   const navigate = useNavigate();\n   const location = useLocation();\n \n   const logout = () => {\n       dispatch({\n           type: 'LOGOUT'\n       });\n      \n       navigate('/auth');\n       setUser(null);\n   }\n   useEffect(()=>{\n       const token = user?.token;\n      \n       setUser(JSON.parse(localStorage.getItem('profile')));\n   }, [location]);\n \n   return (\n       <AppBar className = {classes.appBar} position = \"static\" color = \"inherit\">\n           <div className={classes.brandContainer}>\n           <Typography className ={classes.heading} variant='h2' align='center'>\n                   <Link to= \"/\"style={{ color: 'inherit', textDecoration: 'inherit'}}>PROJECTS</Link>\n                   </Typography>\n                   <img className= {classes.image}src = {projects} alt = \"projects\" height = \"60\" />\n           </div>\n           <Toolbar className={classes.toolbar}>\n           {user? (\n               <div className= {classes.profile}>\n               <Avatar className={classes.purple} alt = {user.result.name} src ={user.result.imageUrl}>\n               {user.result.name.charAt(0)}\n               </Avatar>\n               <Typography className = {classes.userName} variant=\"h6\">\n                   {user.result.name}\n               </Typography>\n               <Button variant = \"contained\" className={classes.logout} color =\"secondary\" onClick = {logout} >\n               Logout\n               </Button>\n               </div>\n           ) : (\n               <Link to= \"/auth\" style={{ color: 'inherit', textDecoration: 'inherit'}}><Button  variant = \"contained\" color=\"primary\">\n               Sign in\n               </Button></Link>\n           )}\n           </Toolbar> \n        </AppBar>\n );\n}\n \nexport default Navbar;\n\n"]},"metadata":{},"sourceType":"module"}